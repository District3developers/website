/*! For license information please see index.browser.js.LICENSE.txt */
(()=>{"use strict";var e={343:(e,t,r)=>{r.r(t),r.d(t,{AuthUserContext:()=>o,default:()=>i});var n=r(689),o=(0,n.createContext)();const i=()=>{var e=(0,n.useContext)(o);if(!e)throw new Error("When using `useAuthUser`, the page must be wrapped in `withAuthUser`.");return e}},679:(e,t,r)=>{var n=r(296),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return n.isMemo(e)?a:s[e.$$typeof]||o}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=a;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(p){var o=h(r);o&&o!==p&&e(t,o,n)}var a=c(r);f&&(a=a.concat(f(r)));for(var s=u(t),b=u(r),y=0;y<a.length;++y){var g=a[y];if(!(i[g]||n&&n[g]||b&&b[g]||s&&s[g])){var m=d(r,g);try{l(t,g,m)}catch(e){}}}}return t}},103:(e,t)=>{var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,a=r?Symbol.for("react.strict_mode"):60108,s=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,c=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,b=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,m=r?Symbol.for("react.fundamental"):60117,v=r?Symbol.for("react.responder"):60118,O=r?Symbol.for("react.scope"):60119;function A(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case c:case f:case i:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case y:case b:case u:return e;default:return t}}case o:return t}}}function E(e){return A(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=u,t.Element=n,t.ForwardRef=d,t.Fragment=i,t.Lazy=y,t.Memo=b,t.Portal=o,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return E(e)||A(e)===c},t.isConcurrentMode=E,t.isContextConsumer=function(e){return A(e)===l},t.isContextProvider=function(e){return A(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return A(e)===d},t.isFragment=function(e){return A(e)===i},t.isLazy=function(e){return A(e)===y},t.isMemo=function(e){return A(e)===b},t.isPortal=function(e){return A(e)===o},t.isProfiler=function(e){return A(e)===s},t.isStrictMode=function(e){return A(e)===a},t.isSuspense=function(e){return A(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===f||e===s||e===a||e===h||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===b||e.$$typeof===u||e.$$typeof===l||e.$$typeof===d||e.$$typeof===m||e.$$typeof===v||e.$$typeof===O||e.$$typeof===g)},t.typeOf=A},296:(e,t,r)=>{e.exports=r(103)},324:e=>{e.exports=require("firebase/app")},610:e=>{e.exports=require("firebase/auth")},853:e=>{e.exports=require("next/router")},689:e=>{e.exports=require("react")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{r.d(n,{default:()=>G});const e=require("@babel/runtime/helpers/objectWithoutProperties");var t=r.n(e),o=r(679),i=r.n(o),a="MODULE_NOT_FOUND";const s=require("@babel/runtime/helpers/defineProperty");var u=r.n(s);const l=require("@babel/runtime/helpers/asyncToGenerator");var c=r.n(l);const f=()=>"undefined"!=typeof window;var d=["aud","auth_time","email","email_verified","exp","firebase","iat","iss","name","phone_number","picture","sub","uid","user_id"],h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).forEach((r=>{d.includes(r)||(t[r]=e[r])})),t};function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const y=function(){var{firebaseUserClientSDK:e,firebaseUserAdminSDK:t,serializedAuthUser:n,clientInitialized:o=!1,token:i=null,claims:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=[e,t,n].reduce(((e,t)=>t?e+1:e),0);if(s>1)throw new Error('createAuthUser cannot receive more than one of the following properties: "firebaseUserClientSDK", "firebaseUserAdminSDK", "serializedAuthUser"');if(o&&(t||n))throw new Error('The "clientInitialized" value can only be true when called with the "firebaseUserClientSDK" property or no user.');if(a&&(t||n))throw new Error('The "claims" value can only be set in conjunction with the "firebaseUserClientSDK" property.');if(i&&!t)throw new Error('The "token" value can only be set if the "firebaseUserAdminSDK" property is defined.');var u={},l=null,d=null,p=!1,y=null,g=null,m=null,v=function(){var e=c()((function*(){return null}));return function(){return e.apply(this,arguments)}}(),O=function(){var e=c()((function*(){}));return function(){return e.apply(this,arguments)}}(),A=null;if(e){if(f()){var{getApp:E}=r(324),{getAuth:w,signOut:U}=r(610);O=function(){var e=c()((function*(){return U(w(E()))}));return function(){return e.apply(this,arguments)}}()}u=h(a),l=e.uid,d=e.email,p=e.emailVerified,y=e.phoneNumber,g=e.displayName,m=e.photoURL,v=function(){var t=c()((function*(t){return e.getIdToken(t)}));return function(e){return t.apply(this,arguments)}}(),A=null}else if(t)u=h(t),l=t.uid,d=t.email,p=t.email_verified,y=t.phone_number,g=t.name,m=t.picture,v=function(){var e=c()((function*(){return i}));return function(){return e.apply(this,arguments)}}(),A=i;else if(n){var R=JSON.parse(n);u=R.claims,l=R.id,d=R.email,p=R.emailVerified,y=R.phoneNumber,g=R.displayName,m=R.photoURL,v=function(){var e=c()((function*(){return R._token||null}));return function(){return e.apply(this,arguments)}}(),A=R._token}return{id:l,email:d,emailVerified:p,phoneNumber:y,displayName:g,photoURL:m,claims:u,getIdToken:v,clientInitialized:o,firebaseUser:e||null,signOut:O,serialize:function(){var{includeToken:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return JSON.stringify(b({id:l,claims:u,email:d,emailVerified:p,phoneNumber:y,displayName:g,photoURL:m,clientInitialized:o},e&&{_token:A}))}}};var g=r(689),m=r(324),v=r(610),O=!1;const A=function(){if(O){for(var e=f()?["%cnext-firebase-auth","background: #ffa000; color: #fff; border-radius: 2px; padding: 2px 6px"]:["next-firebase-auth:"],t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];console.log(...e,...r)}};var E,w=["cookies"];function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var S=12096e5,P={debug:!1,loginAPIEndpoint:void 0,logoutAPIEndpoint:void 0,onLoginRequestError:void 0,onLogoutRequestError:void 0,tokenChangedHandler:void 0,onVerifyTokenError:()=>{},onTokenRefreshError:()=>{},authPageURL:void 0,appPageURL:void 0,firebaseAdminInitConfig:void 0,firebaseClientInitConfig:void 0,firebaseAuthEmulatorHost:void 0,cookies:{name:void 0,keys:void 0,domain:void 0,httpOnly:!0,maxAge:6048e5,overwrite:!0,path:"/",sameSite:"strict",secure:!0,signed:!0}},T=e=>{var t=[];e.tokenChangedHandler&&(e.loginAPIEndpoint&&t.push('The "loginAPIEndpoint" setting should not be set if you are using a "tokenChangedHandler".'),e.logoutAPIEndpoint&&t.push('The "logoutAPIEndpoint" setting should not be set if you are using a "tokenChangedHandler".'),e.onLoginRequestError&&t.push('The "onLoginRequestError" setting should not be set if you are using a "tokenChangedHandler".'),e.onLogoutRequestError&&t.push('The "onLogoutRequestError" setting should not be set if you are using a "tokenChangedHandler".')),e.firebaseClientInitConfig&&e.firebaseClientInitConfig.apiKey||t.push('The "firebaseClientInitConfig.apiKey" value is required.'),e.firebaseAuthEmulatorHost&&e.firebaseAuthEmulatorHost.startsWith("http")&&t.push("The firebaseAuthEmulatorHost should be set without a prefix (e.g., localhost:9099)");var r=["function","undefined"];r.indexOf(typeof e.onVerifyTokenError)<0&&t.push('Invalid next-firebase-auth options: The "onVerifyTokenError" setting must be a function.'),r.indexOf(typeof e.onTokenRefreshError)<0&&t.push('Invalid next-firebase-auth options: The "onTokenRefreshError" setting must be a function.'),r.indexOf(typeof e.onLoginRequestError)<0&&t.push('Invalid next-firebase-auth options: The "onLoginRequestError" setting must be a function.'),r.indexOf(typeof e.onLogoutRequestError)<0&&t.push('Invalid next-firebase-auth options: The "onLogoutRequestError" setting must be a function.');var{keys:n}=e.cookies,o=n&&n.length&&(!n.filter||n.filter((e=>void 0!==e)).length);return f()?(e.tokenChangedHandler||(e.loginAPIEndpoint||t.push('The "loginAPIEndpoint" setting is required.'),e.logoutAPIEndpoint||t.push('The "logoutAPIEndpoint" setting is required.')),e.firebaseAdminInitConfig&&e.firebaseAdminInitConfig.credential&&e.firebaseAdminInitConfig.credential.privateKey&&t.push('The "firebaseAdminInitConfig" private key setting should not be available on the client side.'),o&&t.push('The "cookies.keys" setting should not be available on the client side.')):(e.cookies.name||t.push('The "cookies.name" setting is required on the server side.'),e.firebaseAuthEmulatorHost&&(process.env.FIREBASE_AUTH_EMULATOR_HOST?process.env.FIREBASE_AUTH_EMULATOR_HOST!==e.firebaseAuthEmulatorHost&&t.push('The "FIREBASE_AUTH_EMULATOR_HOST" environment variable should be the same as the host set in the config'):t.push('The "FIREBASE_AUTH_EMULATOR_HOST" environment variable should be set if you are using the "firebaseAuthEmulatorHost" option')),e.cookies.maxAge>S&&t.push('The "cookies.maxAge" setting must be less than two weeks ('.concat(S," ms)."))),{isValid:0===t.length,errors:t}},C=e=>R(R({},e),{},{cookies:R(R({},e.cookies),{},{keys:["hidden"]})},e.firebaseAdminInitConfig&&{firebaseAdminInitConfig:R(R({},e.firebaseAdminInitConfig),e.firebaseAdminInitConfig.credential&&{credential:R(R({},e.firebaseAdminInitConfig.credential),{},{privateKey:"hidden",clientEmail:"hidden"})})}),I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};A("[init] Setting config with provided value:",C(e));var{cookies:r={}}=e,n=t()(e,w),o=R(R(R({},P),n),{},{cookies:R(R({},P.cookies),r)}),{isValid:i,errors:a}=T(o);if(!i)throw new Error("Invalid next-firebase-auth options: ".concat(a.join(" ")));E=o},k=()=>{if(!E)throw new Error("next-firebase-auth must be initialized before rendering.");return E};function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var L=function(){var e=c()((function*(e){var t,{loginAPIEndpoint:r,logoutAPIEndpoint:n,onLoginRequestError:o,onLogoutRequestError:i}=k();if(e.id){A("[withAuthUser] Calling the login endpoint.");var a=yield e.getIdToken();if(!(t=yield fetch(r,{method:"POST",headers:{Authorization:a},credentials:"include"})).ok){var s=yield t.json();A("[withAuthUser] The call to the login endpoint failed with status ".concat(t.status," and response: ").concat(JSON.stringify(s)));var u=new Error("Received ".concat(t.status," response from login API endpoint: ").concat(JSON.stringify(s)));if(!o)throw u;yield o(u)}}else if(A("[withAuthUser] Calling the logout endpoint."),!(t=yield fetch(n,{method:"POST",credentials:"include"})).ok){var l=yield t.json();A("[withAuthUser] The call to the logout endpoint failed with status ".concat(t.status," and response: ").concat(JSON.stringify(l)));var c=new Error("Received ".concat(t.status," response from logout API endpoint: ").concat(JSON.stringify(l)));if(!i)throw c;yield i(c)}return t}));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=c()((function*(e){var{tokenChangedHandler:t}=k(),r=y({firebaseUserClientSDK:e,clientInitialized:!0});return t?(A('[withAuthUser] Calling the custom "tokenChangedHandler" provided in the config.'),t(r)):L(r)}));return function(t){return e.apply(this,arguments)}}();const _=()=>{var[e,t]=(0,g.useState)({user:void 0,claims:{},initialized:!1}),[r,n]=(0,g.useState)(!1);return(0,g.useEffect)((()=>{var e=!1,r=function(){var r=c()((function*(r){A("[withAuthUser] The Firebase ID token changed. New Firebase user:",r),n(!1);var o={};if(r){var i=yield(0,v.getIdTokenResult)(r);o=h(i.claims)}t({user:r,claims:o,initialized:!0}),yield D(r),e?A("[withAuthUser] Component unmounted before completing the auth API request."):(n(!0),A("[withAuthUser] Completed the auth API request."))}));return function(e){return r.apply(this,arguments)}}(),o=(0,v.onIdTokenChanged)((0,v.getAuth)((0,m.getApp)()),r);return()=>{o(),e=!0}}),[]),x(x({},e),{},{authRequestCompleted:r})},N={RENDER:"render",SHOW_LOADER:"showLoader",RETURN_NULL:"returnNull",REDIRECT_TO_LOGIN:"redirectToLogin",REDIRECT_TO_APP:"redirectToApp"};function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){u()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var q={basePath:!0,permanent:!1},z=e=>{var{ctx:t,AuthUser:r,redirectDestination:n}=e;if("function"==typeof n){var o=n({ctx:t,AuthUser:r});return z({ctx:t,AuthUser:r,redirectDestination:o})}return"string"==typeof n?$($({},q),{},{destination:n}):"object"==typeof n?$($({},q),n):null},F=e=>{var{redirectConfigName:t,redirectURL:r,ctx:n,AuthUser:o}=e;return((e,t)=>{if(!t||"string"!=typeof t&&!("destination"in t))throw new Error('The "'.concat(e,'" must be set to a non-empty string, an object literal containing "destination", or a function that returns either.'));return t})(t,z({ctx:n,AuthUser:o,redirectDestination:r||k()[t]}))},M=e=>{var{redirectURL:t,AuthUser:r,ctx:n}=e;return F({redirectConfigName:"authPageURL",redirectURL:t,AuthUser:r,ctx:n})},K=e=>{var{redirectURL:t,AuthUser:r,ctx:n}=e;return F({redirectConfigName:"appPageURL",redirectURL:t,AuthUser:r,ctx:n})},V=["AuthUserSerialized"];var J=r(343);function W(){var{firebaseClientInitConfig:e,firebaseAuthEmulatorHost:t}=k();if((0,m.getApps)().length)A("[init] Did not initialize the Firebase JS SDK because an app already exists.");else{if(!e)throw new Error('If not initializing the Firebase JS SDK elsewhere, you must provide "firebaseClientInitConfig" to next-firebase-auth.');(0,m.initializeApp)(e),A("[init] Initialized the Firebase JS SDK.")}t&&(0,v.connectAuthEmulator)((0,v.getAuth)((0,m.getApp)()),"http://".concat(t))}const B=e=>{var t;t=!0===e.debug,O=t,I(e)},G={init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};B(e),f()&&W()},withAuthUser:function(){var{whenAuthed:e=N.RENDER,whenUnauthedBeforeInit:n=N.RENDER,whenUnauthedAfterInit:o=N.RENDER,whenAuthedBeforeRedirect:s=N.RETURN_NULL,appPageURL:u=null,authPageURL:l=null,LoaderComponent:c=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return d=>{var h,p,b,g,m,v;A('[withAuthUser] Calling "withAuthUser".');try{h=r(689),({useEffect:p,useCallback:b,useMemo:g}=r(689)),({useRouter:m}=r(853)),({AuthUserContext:v}=r(343))}catch(e){throw e.code===a?new Error('The dependencies "react" and "next" are required when calling `withAuthUser`.'):e}var O=r=>{var{AuthUserSerialized:i}=r,a=t()(r,V),O=g((()=>y({serializedAuthUser:i})),[i]),{user:E,claims:w,initialized:U,authRequestCompleted:R}=_(),S=g((()=>y({firebaseUserClientSDK:E,clientInitialized:U,claims:w})),[E,U,w]),P=U?S:O,T=!!P.id,C=P.clientInitialized,I=T&&e===N.REDIRECT_TO_APP,k=I&&f&&R,j=!T&&(!C&&n===N.REDIRECT_TO_LOGIN||C&&o===N.REDIRECT_TO_LOGIN),x=j&&f&&(n===N.REDIRECT_TO_LOGIN||R),L=m(),D=b((e=>{var{basePath:t,destination:r}=e;!1===t?window.location.replace(r):L.replace(r)}),[L]),H=b((()=>{A("[withAuthUser] Redirecting to app.");var e=K({AuthUser:P,redirectURL:u});D(e)}),[P,D]),$=b((()=>{A("[withAuthUser] Redirecting to login.");var e=M({AuthUser:P,redirectURL:l});D(e)}),[P,D]);p((()=>{f()&&(k?H():x&&$())}),[k,x,H,$]);var q,z=c?h.createElement(c,null):null,F=h.createElement(v.Provider,{value:P},h.createElement(d,a));return q=I?s===N.RENDER?F:s===N.SHOW_LOADER?z:null:j?n===N.RETURN_NULL?null:n===N.SHOW_LOADER?z:F:T||R?F:n===N.SHOW_LOADER?z:n===N.RETURN_NULL?null:F,A("[withAuthUser] Set AuthUser to:",P),q};return O.displayName="WithAuthUserHOC",i()(O,d),O}},useAuthUser:J.default,withAuthUserSSR:()=>{throw new Error('"withAuthUserSSR" can only be called server-side.')},withAuthUserTokenSSR:()=>{throw new Error('"withAuthUserTokenSSR" can only be called server-side.')},setAuthCookies:()=>{throw new Error('"setAuthCookies" can only be called server-side.')},unsetAuthCookies:()=>{throw new Error('"unsetAuthCookies" can only be called server-side.')},verifyIdToken:()=>{throw new Error('"verifyIdToken" can only be called server-side.')},AuthAction:N,getUserFromCookies:()=>{throw new Error('"getUserFromCookies" can only be called server-side.')}}})(),module.exports=n.default})();